<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
    
  函数从入门到超神 - Linux学习站
  
  </title>
 <meta name="description" content="">
 <link href="atom.xml" rel="alternate" title="Linux学习站" type="application/atom+xml">
    <link rel="stylesheet" href="foundation.min.css" tppabs="http://www.itwangqing.net.cn/asset/css/foundation.min.css" />
    <link rel="stylesheet" href="docs.css" tppabs="http://www.itwangqing.net.cn/asset/css/docs.css" />

    <script src="modernizr.js" tppabs="http://www.itwangqing.net.cn/asset/js/vendor/modernizr.js"></script>
    <script src="jquery.js" tppabs="http://www.itwangqing.net.cn/asset/js/vendor/jquery.js"></script>
    <script src="highlight.pack.js" tppabs="http://www.itwangqing.net.cn/asset/highlightjs/highlight.pack.js"></script>
    <link href="github.css" tppabs="http://www.itwangqing.net.cn/asset/highlightjs/styles/github.css" media="screen, projection" rel="stylesheet" type="text/css">
    <script>hljs.initHighlightingOnLoad();</script>
    
  </head>
  <body class="antialiased hide-extras">
    
    <div class="marketing off-canvas-wrap" data-offcanvas>
      <div class="inner-wrap">


<nav class="top-bar docs-bar hide-for-small" data-topbar>

<div id="header">
    <h1><a href="index.html" tppabs="http://www.itwangqing.net.cn/index.html">Linux学习站</a></h1>
</div>

</nav>
        <nav class="tab-bar show-for-small">
  <a href="javascript:void(0)" class="left-off-canvas-toggle menu-icon">
    <span> &nbsp; Linux学习站</span>
  </a>
</nav>

<aside class="left-off-canvas-menu">
      <ul class="off-canvas-list">
      <li><a href="index.html" tppabs="http://www.itwangqing.net.cn/index.html">Home</a></li>
      
        <li class="divider"></li>
        <li><label>系统基础</label></li>

          
            <li><a title="Linux基础一" href="15309530058499.html" tppabs="http://www.itwangqing.net.cn/15309530058499.html">Linux基础一</a></li>
          
            <li><a title="Linux基础二" href="15329593343626.html" tppabs="http://www.itwangqing.net.cn/15329593343626.html">Linux基础二</a></li>
          
            <li><a title="Linux基础三" href="15329666111943.html" tppabs="http://www.itwangqing.net.cn/15329666111943.html">Linux基础三</a></li>
          

      
        <li class="divider"></li>
        <li><label>用户管理</label></li>

          
            <li><a title="用户和组管理" href="15309537287199.html" tppabs="http://www.itwangqing.net.cn/15309537287199.html">用户和组管理</a></li>
          
            <li><a title="权限管理" href="15334773924932.html" tppabs="http://www.itwangqing.net.cn/15334773924932.html">权限管理</a></li>
          

      
        <li class="divider"></li>
        <li><label>文本编辑</label></li>

          
            <li><a title="文本编辑之VIM" href="15334773649600.html" tppabs="http://www.itwangqing.net.cn/15334773649600.html">文本编辑之VIM</a></li>
          

      
        <li class="divider"></li>
        <li><label>进程管理</label></li>

          
            <li><a title="linux进程管理" href="15307008887372.html" tppabs="http://www.itwangqing.net.cn/15307008887372.html">linux进程管理</a></li>
          
            <li><a title="控制服务和守护进程" href="15308770808056.html" tppabs="http://www.itwangqing.net.cn/15308770808056.html">控制服务和守护进程</a></li>
          

      
        <li class="divider"></li>
        <li><label>网络管理</label></li>

          
            <li><a title="网络基础管理" href="15301749310671.html" tppabs="http://www.itwangqing.net.cn/15301749310671.html">网络基础管理</a></li>
          
            <li><a title="网络进阶管理" href="15304407617481.html" tppabs="http://www.itwangqing.net.cn/15304407617481.html">网络进阶管理</a></li>
          

      
        <li class="divider"></li>
        <li><label>软件管理</label></li>

          
            <li><a title="软件管理" href="15298462113678.html" tppabs="http://www.itwangqing.net.cn/15298462113678.html">软件管理</a></li>
          
            <li><a title="yum工具的使用" href="15297662988909.html" tppabs="http://www.itwangqing.net.cn/15297662988909.html">yum工具的使用</a></li>
          
            <li><a title="源码安装包管理" href="15299940709726.html" tppabs="http://www.itwangqing.net.cn/15299940709726.html">源码安装包管理</a></li>
          

      
        <li class="divider"></li>
        <li><label>磁盘管理</label></li>

          
            <li><a title="Linux系统磁盘管理" href="15300107229451.html" tppabs="http://www.itwangqing.net.cn/15300107229451.html">Linux系统磁盘管理</a></li>
          
            <li><a title="LVM管理" href="15301020706680.html" tppabs="http://www.itwangqing.net.cn/15301020706680.html">LVM管理</a></li>
          

      
        <li class="divider"></li>
        <li><label>计划任务</label></li>

          
            <li><a title="linux计划任务管理" href="15306026605931.html" tppabs="http://www.itwangqing.net.cn/15306026605931.html">linux计划任务管理</a></li>
          

      
        <li class="divider"></li>
        <li><label>shell脚本</label></li>

          
            <li><a title="shell脚本基础" href="15326519927588.html" tppabs="http://www.itwangqing.net.cn/15326519927588.html">shell脚本基础</a></li>
          
            <li><a title="shell脚本进阶" href="15326563612690.html" tppabs="http://www.itwangqing.net.cn/15326563612690.html">shell脚本进阶</a></li>
          
            <li><a title="正则表达式" href="15309531529503.html" tppabs="http://www.itwangqing.net.cn/15309531529503.html">正则表达式</a></li>
          

      
        <li class="divider"></li>
        <li><label>服务管理</label></li>

          
            <li><a title="openssh" href="15309540565109.html" tppabs="http://www.itwangqing.net.cn/15309540565109.html">openssh</a></li>
          
            <li><a title="NFS" href="15331149680339.html" tppabs="http://www.itwangqing.net.cn/15331149680339.html">NFS</a></li>
          
            <li><a title="samba" href="15332084684114.html" tppabs="http://www.itwangqing.net.cn/15332084684114.html">samba</a></li>
          
            <li><a title="ftp" href="15331235945908.html" tppabs="http://www.itwangqing.net.cn/15331235945908.html">ftp</a></li>
          
            <li><a title="httpd" href="15333747858558.html" tppabs="http://www.itwangqing.net.cn/15333747858558.html">httpd</a></li>
          
            <li><a title="rsync" href="15336422692695.html" tppabs="http://www.itwangqing.net.cn/15336422692695.html">rsync</a></li>
          
            <li><a title="mysql基础" href="15340549469789.html" tppabs="http://www.itwangqing.net.cn/15340549469789.html">mysql基础</a></li>
          
            <li><a title="mysql进阶" href="15340747137714.html" tppabs="http://www.itwangqing.net.cn/15340747137714.html">mysql进阶</a></li>
          
            <li><a title="mysql多实例部署" href="15574501454471.html" tppabs="http://www.itwangqing.net.cn/15574501454471.html">mysql多实例部署</a></li>
          
            <li><a title="lamp" href="15343825969129.html" tppabs="http://www.itwangqing.net.cn/15343825969129.html">lamp</a></li>
          
            <li><a title="mysql主从" href="15340760215942.html" tppabs="http://www.itwangqing.net.cn/15340760215942.html">mysql主从</a></li>
          
            <li><a title="监控服务zabbix部署" href="15344093145314.html" tppabs="http://www.itwangqing.net.cn/15344093145314.html">监控服务zabbix部署</a></li>
          
            <li><a title="nginx" href="15347293082090.html" tppabs="http://www.itwangqing.net.cn/15347293082090.html">nginx</a></li>
          
            <li><a title="cobbler" href="15348344859945.html" tppabs="http://www.itwangqing.net.cn/15348344859945.html">cobbler</a></li>
          
            <li><a title="版本控制gitlab" href="15350227215553.html" tppabs="http://www.itwangqing.net.cn/15350227215553.html">版本控制gitlab</a></li>
          
            <li><a title="tomcat" href="15350951162147.html" tppabs="http://www.itwangqing.net.cn/15350951162147.html">tomcat</a></li>
          
            <li><a title="kvm虚拟化" href="15397735724181.html" tppabs="http://www.itwangqing.net.cn/15397735724181.html">kvm虚拟化</a></li>
          
            <li><a title="keepalived高可用" href="15399319450072.html" tppabs="http://www.itwangqing.net.cn/15399319450072.html">keepalived高可用</a></li>
          
            <li><a title="mysql中间件proxysql实现mysql读写分离" href="15421935147049.html" tppabs="http://www.itwangqing.net.cn/15421935147049.html">mysql中间件proxysql实现mysql读写分离</a></li>
          
            <li><a title="开源堡垒机Jumpserver" href="15671624164646.html" tppabs="http://www.itwangqing.net.cn/15671624164646.html">开源堡垒机Jumpserver</a></li>
          
            <li><a title="haproxy" href="15833949737143.html" tppabs="http://www.itwangqing.net.cn/15833949737143.html">haproxy</a></li>
          

      
        <li class="divider"></li>
        <li><label>自动化运维工具ansible</label></li>

          
            <li><a title="01 Ansible介绍与安装" href="15899421412937.html" tppabs="http://www.itwangqing.net.cn/15899421412937.html">01 Ansible介绍与安装</a></li>
          
            <li><a title="02 部署Ansible" href="15899422975885.html" tppabs="http://www.itwangqing.net.cn/15899422975885.html">02 部署Ansible</a></li>
          
            <li><a title="03 ansible常用模块" href="15360459655433.html" tppabs="http://www.itwangqing.net.cn/15360459655433.html">03 ansible常用模块</a></li>
          
            <li><a title="04 playbook" href="15900337310825.html" tppabs="http://www.itwangqing.net.cn/15900337310825.html">04 playbook</a></li>
          
            <li><a title="05 管理变量、机密和事实" href="15902192327327.html" tppabs="http://www.itwangqing.net.cn/15902192327327.html">05 管理变量、机密和事实</a></li>
          
            <li><a title="06 实施任务控制" href="15904785155492.html" tppabs="http://www.itwangqing.net.cn/15904785155492.html">06 实施任务控制</a></li>
          
            <li><a title="07 在被管理节点上创建文件或目录" href="15909932604247.html" tppabs="http://www.itwangqing.net.cn/15909932604247.html">07 在被管理节点上创建文件或目录</a></li>
          
            <li><a title="08 管理大项目" href="15916866139753.html" tppabs="http://www.itwangqing.net.cn/15916866139753.html">08 管理大项目</a></li>
          

      
        <li class="divider"></li>
        <li><label>自动化运维工具saltstack</label></li>

          
            <li><a title="01 SaltStack入门" href="15505624542032.html" tppabs="http://www.itwangqing.net.cn/15505624542032.html">01 SaltStack入门</a></li>
          
            <li><a title="02 SaltStack之配置管理" href="15505739253069.html" tppabs="http://www.itwangqing.net.cn/15505739253069.html">02 SaltStack之配置管理</a></li>
          
            <li><a title="03 SaltStack之数据系统" href="15506476021123.html" tppabs="http://www.itwangqing.net.cn/15506476021123.html">03 SaltStack之数据系统</a></li>
          
            <li><a title="04 SaltStack常用的模块" href="15506647066554.html" tppabs="http://www.itwangqing.net.cn/15506647066554.html">04 SaltStack常用的模块</a></li>
          
            <li><a title="05 SaltStack之return与job管理" href="15518677780073.html" tppabs="http://www.itwangqing.net.cn/15518677780073.html">05 SaltStack之return与job管理</a></li>
          
            <li><a title="06 SaltStack之salt-ssh" href="15520269709477.html" tppabs="http://www.itwangqing.net.cn/15520269709477.html">06 SaltStack之salt-ssh</a></li>
          
            <li><a title="07 SaltStack进阶" href="15537606512093.html" tppabs="http://www.itwangqing.net.cn/15537606512093.html">07 SaltStack进阶</a></li>
          

      
        <li class="divider"></li>
        <li><label>docker</label></li>

          
            <li><a title="docker容器技术基础入门" href="15756156871621.html" tppabs="http://www.itwangqing.net.cn/15756156871621.html">docker容器技术基础入门</a></li>
          
            <li><a title="docker基础用法" href="15808961165162.html" tppabs="http://www.itwangqing.net.cn/15808961165162.html">docker基础用法</a></li>
          
            <li><a title="docker镜像管理基础" href="15809107453374.html" tppabs="http://www.itwangqing.net.cn/15809107453374.html">docker镜像管理基础</a></li>
          
            <li><a title="docker容器虚拟化" href="15811500963775.html" tppabs="http://www.itwangqing.net.cn/15811500963775.html">docker容器虚拟化</a></li>
          
            <li><a title="docker容器网络" href="15812176196320.html" tppabs="http://www.itwangqing.net.cn/15812176196320.html">docker容器网络</a></li>
          
            <li><a title="docker容器网络配置" href="15812236429133.html" tppabs="http://www.itwangqing.net.cn/15812236429133.html">docker容器网络配置</a></li>
          
            <li><a title="docker存储卷" href="15812406178865.html" tppabs="http://www.itwangqing.net.cn/15812406178865.html">docker存储卷</a></li>
          
            <li><a title="Dockerfile" href="15820930531496.html" tppabs="http://www.itwangqing.net.cn/15820930531496.html">Dockerfile</a></li>
          
            <li><a title="Docker Private Registry" href="15823545783647.html" tppabs="http://www.itwangqing.net.cn/15823545783647.html">Docker Private Registry</a></li>
          

      
        <li class="divider"></li>
        <li><label>作业题</label></li>

          
            <li><a title="vim练习" href="15312221747200.html" tppabs="http://www.itwangqing.net.cn/15312221747200.html">vim练习</a></li>
          
            <li><a title="基础练习" href="15308359538636.html" tppabs="http://www.itwangqing.net.cn/15308359538636.html">基础练习</a></li>
          
            <li><a title="系统管理基础综合练习" href="15312664196054.html" tppabs="http://www.itwangqing.net.cn/15312664196054.html">系统管理基础综合练习</a></li>
          
            <li><a title="shell脚本习题" href="15395707987789.html" tppabs="http://www.itwangqing.net.cn/15395707987789.html">shell脚本习题</a></li>
          
            <li><a title="Linux运维面试题" href="15396808887591.html" tppabs="http://www.itwangqing.net.cn/15396808887591.html">Linux运维面试题</a></li>
          

      
        <li class="divider"></li>
        <li><label>python</label></li>

          
            <li><a title="python介绍" href="15538297742581.html" tppabs="http://www.itwangqing.net.cn/15538297742581.html">python介绍</a></li>
          
            <li><a title="Python入门" href="15540177360572.html" tppabs="http://www.itwangqing.net.cn/15540177360572.html">Python入门</a></li>
          
            <li><a title="变量与字符编码" href="15615383234174.html" tppabs="http://www.itwangqing.net.cn/15615383234174.html">变量与字符编码</a></li>
          
            <li><a title="Python编程规范、运算符" href="15616166878859.html" tppabs="http://www.itwangqing.net.cn/15616166878859.html">Python编程规范、运算符</a></li>
          
            <li><a title="流程控制与格式化输出" href="15616375345555.html" tppabs="http://www.itwangqing.net.cn/15616375345555.html">流程控制与格式化输出</a></li>
          
            <li><a title="数据类型" href="15617044071511.html" tppabs="http://www.itwangqing.net.cn/15617044071511.html">数据类型</a></li>
          
            <li><a title="文件管理" href="15646303312857.html" tppabs="http://www.itwangqing.net.cn/15646303312857.html">文件管理</a></li>
          
            <li><a title="函数从入门到超神" href="15621339486509.html" tppabs="http://www.itwangqing.net.cn/15621339486509.html">函数从入门到超神</a></li>
          
            <li><a title="列表生成式、迭代器与生成器" href="15652344516454.html" tppabs="http://www.itwangqing.net.cn/15652344516454.html">列表生成式、迭代器与生成器</a></li>
          
            <li><a title="模块与包" href="15621538343767.html" tppabs="http://www.itwangqing.net.cn/15621538343767.html">模块与包</a></li>
          
            <li><a title="常用内置模块" href="15622250202368.html" tppabs="http://www.itwangqing.net.cn/15622250202368.html">常用内置模块</a></li>
          
            <li><a title="日志模块logging" href="15658313775832.html" tppabs="http://www.itwangqing.net.cn/15658313775832.html">日志模块logging</a></li>
          
            <li><a title="正则表达式re模块" href="15623206542335.html" tppabs="http://www.itwangqing.net.cn/15623206542335.html">正则表达式re模块</a></li>
          
            <li><a title="Python爬虫实战：链家二手房" href="15635212817346.html" tppabs="http://www.itwangqing.net.cn/15635212817346.html">Python爬虫实战：链家二手房</a></li>
          
            <li><a title="数据可视化分析" href="15632679626574.html" tppabs="http://www.itwangqing.net.cn/15632679626574.html">数据可视化分析</a></li>
          

      
      </ul>
    </aside>

<a class="exit-off-canvas" href="#"></a>

        <section id="main-content" role="main" class="scroll-container">

          <div class="row">
            <div class="large-3 medium-3 columns">
              <div class="hide-for-small">
                <div class="sidebar">
                <nav>
                  <ul id="side-nav" class="side-nav">

                    
                      <li class="side-title"><span>系统基础</span></li>
                        
                          <li><a title="Linux基础一" href="15309530058499.html" tppabs="http://www.itwangqing.net.cn/15309530058499.html">Linux基础一</a></li>
                        
                          <li><a title="Linux基础二" href="15329593343626.html" tppabs="http://www.itwangqing.net.cn/15329593343626.html">Linux基础二</a></li>
                        
                          <li><a title="Linux基础三" href="15329666111943.html" tppabs="http://www.itwangqing.net.cn/15329666111943.html">Linux基础三</a></li>
                        

                    
                      <li class="side-title"><span>用户管理</span></li>
                        
                          <li><a title="用户和组管理" href="15309537287199.html" tppabs="http://www.itwangqing.net.cn/15309537287199.html">用户和组管理</a></li>
                        
                          <li><a title="权限管理" href="15334773924932.html" tppabs="http://www.itwangqing.net.cn/15334773924932.html">权限管理</a></li>
                        

                    
                      <li class="side-title"><span>文本编辑</span></li>
                        
                          <li><a title="文本编辑之VIM" href="15334773649600.html" tppabs="http://www.itwangqing.net.cn/15334773649600.html">文本编辑之VIM</a></li>
                        

                    
                      <li class="side-title"><span>进程管理</span></li>
                        
                          <li><a title="linux进程管理" href="15307008887372.html" tppabs="http://www.itwangqing.net.cn/15307008887372.html">linux进程管理</a></li>
                        
                          <li><a title="控制服务和守护进程" href="15308770808056.html" tppabs="http://www.itwangqing.net.cn/15308770808056.html">控制服务和守护进程</a></li>
                        

                    
                      <li class="side-title"><span>网络管理</span></li>
                        
                          <li><a title="网络基础管理" href="15301749310671.html" tppabs="http://www.itwangqing.net.cn/15301749310671.html">网络基础管理</a></li>
                        
                          <li><a title="网络进阶管理" href="15304407617481.html" tppabs="http://www.itwangqing.net.cn/15304407617481.html">网络进阶管理</a></li>
                        

                    
                      <li class="side-title"><span>软件管理</span></li>
                        
                          <li><a title="软件管理" href="15298462113678.html" tppabs="http://www.itwangqing.net.cn/15298462113678.html">软件管理</a></li>
                        
                          <li><a title="yum工具的使用" href="15297662988909.html" tppabs="http://www.itwangqing.net.cn/15297662988909.html">yum工具的使用</a></li>
                        
                          <li><a title="源码安装包管理" href="15299940709726.html" tppabs="http://www.itwangqing.net.cn/15299940709726.html">源码安装包管理</a></li>
                        

                    
                      <li class="side-title"><span>磁盘管理</span></li>
                        
                          <li><a title="Linux系统磁盘管理" href="15300107229451.html" tppabs="http://www.itwangqing.net.cn/15300107229451.html">Linux系统磁盘管理</a></li>
                        
                          <li><a title="LVM管理" href="15301020706680.html" tppabs="http://www.itwangqing.net.cn/15301020706680.html">LVM管理</a></li>
                        

                    
                      <li class="side-title"><span>计划任务</span></li>
                        
                          <li><a title="linux计划任务管理" href="15306026605931.html" tppabs="http://www.itwangqing.net.cn/15306026605931.html">linux计划任务管理</a></li>
                        

                    
                      <li class="side-title"><span>shell脚本</span></li>
                        
                          <li><a title="shell脚本基础" href="15326519927588.html" tppabs="http://www.itwangqing.net.cn/15326519927588.html">shell脚本基础</a></li>
                        
                          <li><a title="shell脚本进阶" href="15326563612690.html" tppabs="http://www.itwangqing.net.cn/15326563612690.html">shell脚本进阶</a></li>
                        
                          <li><a title="正则表达式" href="15309531529503.html" tppabs="http://www.itwangqing.net.cn/15309531529503.html">正则表达式</a></li>
                        

                    
                      <li class="side-title"><span>服务管理</span></li>
                        
                          <li><a title="openssh" href="15309540565109.html" tppabs="http://www.itwangqing.net.cn/15309540565109.html">openssh</a></li>
                        
                          <li><a title="NFS" href="15331149680339.html" tppabs="http://www.itwangqing.net.cn/15331149680339.html">NFS</a></li>
                        
                          <li><a title="samba" href="15332084684114.html" tppabs="http://www.itwangqing.net.cn/15332084684114.html">samba</a></li>
                        
                          <li><a title="ftp" href="15331235945908.html" tppabs="http://www.itwangqing.net.cn/15331235945908.html">ftp</a></li>
                        
                          <li><a title="httpd" href="15333747858558.html" tppabs="http://www.itwangqing.net.cn/15333747858558.html">httpd</a></li>
                        
                          <li><a title="rsync" href="15336422692695.html" tppabs="http://www.itwangqing.net.cn/15336422692695.html">rsync</a></li>
                        
                          <li><a title="mysql基础" href="15340549469789.html" tppabs="http://www.itwangqing.net.cn/15340549469789.html">mysql基础</a></li>
                        
                          <li><a title="mysql进阶" href="15340747137714.html" tppabs="http://www.itwangqing.net.cn/15340747137714.html">mysql进阶</a></li>
                        
                          <li><a title="mysql多实例部署" href="15574501454471.html" tppabs="http://www.itwangqing.net.cn/15574501454471.html">mysql多实例部署</a></li>
                        
                          <li><a title="lamp" href="15343825969129.html" tppabs="http://www.itwangqing.net.cn/15343825969129.html">lamp</a></li>
                        
                          <li><a title="mysql主从" href="15340760215942.html" tppabs="http://www.itwangqing.net.cn/15340760215942.html">mysql主从</a></li>
                        
                          <li><a title="监控服务zabbix部署" href="15344093145314.html" tppabs="http://www.itwangqing.net.cn/15344093145314.html">监控服务zabbix部署</a></li>
                        
                          <li><a title="nginx" href="15347293082090.html" tppabs="http://www.itwangqing.net.cn/15347293082090.html">nginx</a></li>
                        
                          <li><a title="cobbler" href="15348344859945.html" tppabs="http://www.itwangqing.net.cn/15348344859945.html">cobbler</a></li>
                        
                          <li><a title="版本控制gitlab" href="15350227215553.html" tppabs="http://www.itwangqing.net.cn/15350227215553.html">版本控制gitlab</a></li>
                        
                          <li><a title="tomcat" href="15350951162147.html" tppabs="http://www.itwangqing.net.cn/15350951162147.html">tomcat</a></li>
                        
                          <li><a title="kvm虚拟化" href="15397735724181.html" tppabs="http://www.itwangqing.net.cn/15397735724181.html">kvm虚拟化</a></li>
                        
                          <li><a title="keepalived高可用" href="15399319450072.html" tppabs="http://www.itwangqing.net.cn/15399319450072.html">keepalived高可用</a></li>
                        
                          <li><a title="mysql中间件proxysql实现mysql读写分离" href="15421935147049.html" tppabs="http://www.itwangqing.net.cn/15421935147049.html">mysql中间件proxysql实现mysql读写分离</a></li>
                        
                          <li><a title="开源堡垒机Jumpserver" href="15671624164646.html" tppabs="http://www.itwangqing.net.cn/15671624164646.html">开源堡垒机Jumpserver</a></li>
                        
                          <li><a title="haproxy" href="15833949737143.html" tppabs="http://www.itwangqing.net.cn/15833949737143.html">haproxy</a></li>
                        

                    
                      <li class="side-title"><span>自动化运维工具ansible</span></li>
                        
                          <li><a title="01 Ansible介绍与安装" href="15899421412937.html" tppabs="http://www.itwangqing.net.cn/15899421412937.html">01 Ansible介绍与安装</a></li>
                        
                          <li><a title="02 部署Ansible" href="15899422975885.html" tppabs="http://www.itwangqing.net.cn/15899422975885.html">02 部署Ansible</a></li>
                        
                          <li><a title="03 ansible常用模块" href="15360459655433.html" tppabs="http://www.itwangqing.net.cn/15360459655433.html">03 ansible常用模块</a></li>
                        
                          <li><a title="04 playbook" href="15900337310825.html" tppabs="http://www.itwangqing.net.cn/15900337310825.html">04 playbook</a></li>
                        
                          <li><a title="05 管理变量、机密和事实" href="15902192327327.html" tppabs="http://www.itwangqing.net.cn/15902192327327.html">05 管理变量、机密和事实</a></li>
                        
                          <li><a title="06 实施任务控制" href="15904785155492.html" tppabs="http://www.itwangqing.net.cn/15904785155492.html">06 实施任务控制</a></li>
                        
                          <li><a title="07 在被管理节点上创建文件或目录" href="15909932604247.html" tppabs="http://www.itwangqing.net.cn/15909932604247.html">07 在被管理节点上创建文件或目录</a></li>
                        
                          <li><a title="08 管理大项目" href="15916866139753.html" tppabs="http://www.itwangqing.net.cn/15916866139753.html">08 管理大项目</a></li>
                        

                    
                      <li class="side-title"><span>自动化运维工具saltstack</span></li>
                        
                          <li><a title="01 SaltStack入门" href="15505624542032.html" tppabs="http://www.itwangqing.net.cn/15505624542032.html">01 SaltStack入门</a></li>
                        
                          <li><a title="02 SaltStack之配置管理" href="15505739253069.html" tppabs="http://www.itwangqing.net.cn/15505739253069.html">02 SaltStack之配置管理</a></li>
                        
                          <li><a title="03 SaltStack之数据系统" href="15506476021123.html" tppabs="http://www.itwangqing.net.cn/15506476021123.html">03 SaltStack之数据系统</a></li>
                        
                          <li><a title="04 SaltStack常用的模块" href="15506647066554.html" tppabs="http://www.itwangqing.net.cn/15506647066554.html">04 SaltStack常用的模块</a></li>
                        
                          <li><a title="05 SaltStack之return与job管理" href="15518677780073.html" tppabs="http://www.itwangqing.net.cn/15518677780073.html">05 SaltStack之return与job管理</a></li>
                        
                          <li><a title="06 SaltStack之salt-ssh" href="15520269709477.html" tppabs="http://www.itwangqing.net.cn/15520269709477.html">06 SaltStack之salt-ssh</a></li>
                        
                          <li><a title="07 SaltStack进阶" href="15537606512093.html" tppabs="http://www.itwangqing.net.cn/15537606512093.html">07 SaltStack进阶</a></li>
                        

                    
                      <li class="side-title"><span>docker</span></li>
                        
                          <li><a title="docker容器技术基础入门" href="15756156871621.html" tppabs="http://www.itwangqing.net.cn/15756156871621.html">docker容器技术基础入门</a></li>
                        
                          <li><a title="docker基础用法" href="15808961165162.html" tppabs="http://www.itwangqing.net.cn/15808961165162.html">docker基础用法</a></li>
                        
                          <li><a title="docker镜像管理基础" href="15809107453374.html" tppabs="http://www.itwangqing.net.cn/15809107453374.html">docker镜像管理基础</a></li>
                        
                          <li><a title="docker容器虚拟化" href="15811500963775.html" tppabs="http://www.itwangqing.net.cn/15811500963775.html">docker容器虚拟化</a></li>
                        
                          <li><a title="docker容器网络" href="15812176196320.html" tppabs="http://www.itwangqing.net.cn/15812176196320.html">docker容器网络</a></li>
                        
                          <li><a title="docker容器网络配置" href="15812236429133.html" tppabs="http://www.itwangqing.net.cn/15812236429133.html">docker容器网络配置</a></li>
                        
                          <li><a title="docker存储卷" href="15812406178865.html" tppabs="http://www.itwangqing.net.cn/15812406178865.html">docker存储卷</a></li>
                        
                          <li><a title="Dockerfile" href="15820930531496.html" tppabs="http://www.itwangqing.net.cn/15820930531496.html">Dockerfile</a></li>
                        
                          <li><a title="Docker Private Registry" href="15823545783647.html" tppabs="http://www.itwangqing.net.cn/15823545783647.html">Docker Private Registry</a></li>
                        

                    
                      <li class="side-title"><span>作业题</span></li>
                        
                          <li><a title="vim练习" href="15312221747200.html" tppabs="http://www.itwangqing.net.cn/15312221747200.html">vim练习</a></li>
                        
                          <li><a title="基础练习" href="15308359538636.html" tppabs="http://www.itwangqing.net.cn/15308359538636.html">基础练习</a></li>
                        
                          <li><a title="系统管理基础综合练习" href="15312664196054.html" tppabs="http://www.itwangqing.net.cn/15312664196054.html">系统管理基础综合练习</a></li>
                        
                          <li><a title="shell脚本习题" href="15395707987789.html" tppabs="http://www.itwangqing.net.cn/15395707987789.html">shell脚本习题</a></li>
                        
                          <li><a title="Linux运维面试题" href="15396808887591.html" tppabs="http://www.itwangqing.net.cn/15396808887591.html">Linux运维面试题</a></li>
                        

                    
                      <li class="side-title"><span>python</span></li>
                        
                          <li><a title="python介绍" href="15538297742581.html" tppabs="http://www.itwangqing.net.cn/15538297742581.html">python介绍</a></li>
                        
                          <li><a title="Python入门" href="15540177360572.html" tppabs="http://www.itwangqing.net.cn/15540177360572.html">Python入门</a></li>
                        
                          <li><a title="变量与字符编码" href="15615383234174.html" tppabs="http://www.itwangqing.net.cn/15615383234174.html">变量与字符编码</a></li>
                        
                          <li><a title="Python编程规范、运算符" href="15616166878859.html" tppabs="http://www.itwangqing.net.cn/15616166878859.html">Python编程规范、运算符</a></li>
                        
                          <li><a title="流程控制与格式化输出" href="15616375345555.html" tppabs="http://www.itwangqing.net.cn/15616375345555.html">流程控制与格式化输出</a></li>
                        
                          <li><a title="数据类型" href="15617044071511.html" tppabs="http://www.itwangqing.net.cn/15617044071511.html">数据类型</a></li>
                        
                          <li><a title="文件管理" href="15646303312857.html" tppabs="http://www.itwangqing.net.cn/15646303312857.html">文件管理</a></li>
                        
                          <li><a title="函数从入门到超神" href="15621339486509.html" tppabs="http://www.itwangqing.net.cn/15621339486509.html">函数从入门到超神</a></li>
                        
                          <li><a title="列表生成式、迭代器与生成器" href="15652344516454.html" tppabs="http://www.itwangqing.net.cn/15652344516454.html">列表生成式、迭代器与生成器</a></li>
                        
                          <li><a title="模块与包" href="15621538343767.html" tppabs="http://www.itwangqing.net.cn/15621538343767.html">模块与包</a></li>
                        
                          <li><a title="常用内置模块" href="15622250202368.html" tppabs="http://www.itwangqing.net.cn/15622250202368.html">常用内置模块</a></li>
                        
                          <li><a title="日志模块logging" href="15658313775832.html" tppabs="http://www.itwangqing.net.cn/15658313775832.html">日志模块logging</a></li>
                        
                          <li><a title="正则表达式re模块" href="15623206542335.html" tppabs="http://www.itwangqing.net.cn/15623206542335.html">正则表达式re模块</a></li>
                        
                          <li><a title="Python爬虫实战：链家二手房" href="15635212817346.html" tppabs="http://www.itwangqing.net.cn/15635212817346.html">Python爬虫实战：链家二手房</a></li>
                        
                          <li><a title="数据可视化分析" href="15632679626574.html" tppabs="http://www.itwangqing.net.cn/15632679626574.html">数据可视化分析</a></li>
                        

                    
                  </ul>
                </nav>
                </div>
              </div>
            </div>
            <div class="large-9 medium-9 columns">

 <div class="markdown-body">
<h1>函数从入门到超神</h1>

<ul>
<li>
<a href="#toc_0">1 函数的基本概念</a>
<ul>
<li>
<a href="#toc_1">1.1 函数的作用</a>
</li>
<li>
<a href="#toc_2">1.2 函数的定义</a>
</li>
<li>
<a href="#toc_3">1.3 函数的命名规则</a>
</li>
<li>
<a href="#toc_4">1.4 函数的组成部分</a>
</li>
<li>
<a href="#toc_5">1.5 函数的参数：形参与实参</a>
</li>
<li>
<a href="#toc_6">1.6 函数的返回值</a>
</li>
</ul>
</li>
<li>
<a href="#toc_7">2 函数的参数</a>
<ul>
<li>
<a href="#toc_8">2.1 必备参数</a>
</li>
<li>
<a href="#toc_9">2.2 关键字参数</a>
</li>
<li>
<a href="#toc_10">2.3 默认参数</a>
</li>
<li>
<a href="#toc_11">2.4 不定长参数</a>
</li>
<li>
<a href="#toc_12">2.5 参数的位置优先级</a>
</li>
</ul>
</li>
<li>
<a href="#toc_13">3 函数的作用域</a>
<ul>
<li>
<a href="#toc_14">3.1 作用域介绍</a>
</li>
<li>
<a href="#toc_15">3.2 作用域产生</a>
</li>
<li>
<a href="#toc_16">3.3 变量的修改</a>
</li>
<li>
<a href="#toc_17">3.4 global关键字</a>
</li>
<li>
<a href="#toc_18">3.5 nonlocal关键字</a>
</li>
<li>
<a href="#toc_19">3.6 总结</a>
</li>
</ul>
</li>
<li>
<a href="#toc_20">4 高阶函数</a>
</li>
<li>
<a href="#toc_21">5 递归函数</a>
</li>
<li>
<a href="#toc_22">6 常用的内置函数</a>
<ul>
<li>
<a href="#toc_23">6.1 内置函数(py3.7.4)</a>
</li>
<li>
<a href="#toc_24">6.2 重要的内置函数</a>
</li>
</ul>
</li>
<li>
<a href="#toc_25">7 lamda匿名函数</a>
</li>
<li>
<a href="#toc_26">8 函数式编程与函数闭包</a>
<ul>
<li>
<a href="#toc_27">8.1 函数式编程</a>
</li>
<li>
<a href="#toc_28">8.2 函数闭包</a>
</li>
</ul>
</li>
<li>
<a href="#toc_29">9 函数高阶应用(装饰器)</a>
<ul>
<li>
<a href="#toc_30">9.1 实现装饰器的知识储备</a>
<ul>
<li>
<a href="#toc_31">9.1.1 函数即“变量”</a>
</li>
<li>
<a href="#toc_32">9.1.2 高阶函数</a>
</li>
<li>
<a href="#toc_33">9.1.3 嵌套函数</a>
</li>
</ul>
</li>
<li>
<a href="#toc_34">9.2 装饰器之不带参数的func(被装饰的函数)</a>
</li>
<li>
<a href="#toc_35">9.3 装饰器之带参数的func(被装饰的函数)</a>
</li>
<li>
<a href="#toc_36">9.4 有参数的装饰器</a>
</li>
<li>
<a href="#toc_37">9.5 装饰器案例</a>
<ul>
<li>
<a href="#toc_38">9.5.1 为函数添加执行时间的装饰器函数</a>
</li>
<li>
<a href="#toc_39">9.5.2 页面验证装饰器</a>
</li>
</ul>
</li>
<li>
<a href="#toc_40">9.6 装饰器原理</a>
</li>
</ul>
</li>
</ul>


<hr/>

<h2 id="toc_0">1 函数的基本概念</h2>

<p>Python中，可通过固定的格式来定义函数。函数有具体的组成部分</p>

<ul>
<li>函数名</li>
<li>函数体</li>
<li>参数</li>
<li>返回值</li>
</ul>

<p>从分类上看，函数可分为</p>

<ul>
<li>内置函数</li>
<li>自定义函数</li>
</ul>

<p>为了实现不同的编程需求，还可为函数加上各种规则及作用域的限制，以完成整个功能</p>

<h3 id="toc_1">1.1 函数的作用</h3>

<p><strong>背景提要</strong><br/>
现在老板让你写一个监控程序，监控服务器的系统状况，当cpu＼memory＼disk等指标的使用量超过阀值时即发邮件报警，你掏空了所有的知识量，写出了以下代码</p>

<pre><code class="language-text">while True：
    if cpu利用率 &gt; 90%:
        #发送邮件提醒
        连接邮箱服务器
        发送邮件
        关闭连接
     
    if 硬盘使用空间 &gt; 90%:
        #发送邮件提醒
        连接邮箱服务器
        发送邮件
        关闭连接
     
    if 内存占用 &gt; 80%:
        #发送邮件提醒
        连接邮箱服务器
        发送邮件
        关闭连接
</code></pre>

<p>上面的代码实现了功能，但是重复代码太多了，每次报警都要重写一段发邮件的代码，太low了，如此做存在2个问题：</p>

<ol>
<li>代码重复过多，一个劲的copy and paste不符合高端程序员的气质</li>
<li>若日后需要修改发邮件的这段代码，比如加入群发功能，那你就需要在所有用到这段代码的地方都修改一遍</li>
</ol>

<p>解决这个问题的方法其实很简单，我们只需要把重复的代码提取出来，放在一个公共的地方，起个名字，以后谁想用这段代码，就通过这个名字调用就行了，如下</p>

<pre><code class="language-text">def 发送邮件(内容)
    #发送邮件提醒
    连接邮箱服务器
    发送邮件
    关闭连接
     
while True：
     
    if cpu利用率 &gt; 90%:
        发送邮件(&#39;CPU报警&#39;)
     
    if 硬盘使用空间 &gt; 90%:
        发送邮件(&#39;硬盘报警&#39;)
     
    if 内存占用 &gt; 80%:
        发送邮件(&#39;内存报警&#39;)
</code></pre>

<p><font color="red"><strong>函数的作用：</strong></font></p>

<ul>
<li>减少重复代码</li>
<li>方便修改、更易扩展</li>
<li>保持代码一致性</li>
</ul>

<p><font color="blue">练习1：写一个函数记录日志</font><br/>
<details><br/>
<summary>日志记录案例</summary></p>

<pre><code class="language-text">def action1(n):
    print (&#39;starting action1...&#39;)

    with open(&#39;日志记录&#39;,&#39;a&#39;) as f:
        f.write(&#39;end action%s\n&#39;%n)

def action2(n):
    print (&#39;starting action2...&#39;)

    with open(&#39;日志记录&#39;,&#39;a&#39;) as f:
        f.write(&#39;end action%s\n&#39;%n)

def action3(n):
    print (&#39;starting action3...&#39;)

    with open(&#39;日志记录&#39;,&#39;a&#39;) as f:
        f.write(&#39;end action%s\n&#39;%n)

action1(1)
action2(2)
action3(3)


##***************代码重用

def logger(n):
    with open(&#39;日志记录&#39;,&#39;a&#39;) as f:
        f.write(&#39;end action%s\n&#39;%n)

def action1():
    print (&#39;starting action1...&#39;)
    logger(1)


def action2():
    print (&#39;starting action2...&#39;)
    logger(2)


def action3():
    print (&#39;starting action3...&#39;)
    logger(3)


action1()
action2()
action3()

##***************可扩展和保持一致
##为日志加上时间
import time

def logger(n):
    time_format=&#39;%Y-%m-%d %X&#39;
    time_current=time.strftime(time_format)

    with open(&#39;日志记录&#39;,&#39;a&#39;) as f:
        f.write(&#39;%s end action%s\n&#39;%(time_current,n))

def action1():
    print (&#39;starting action1...&#39;)
    logger(1)


def action2():
    print (&#39;starting action2...&#39;)
    logger(2)


def action3():
    print (&#39;starting action3...&#39;)
    logger(3)

action1()
action2()
action3()
</code></pre>
</details>
<h3 id="toc_2">1.2 函数的定义</h3>

<p>定义函数使用关键字def，后接函数名，再后接放在()中的可选参数列表，最后是冒号。格式如下</p>

<pre><code class="language-text">def 函数名(参数1,参数2,...,参数N):
</code></pre>

<p>例如：</p>

<pre><code class="language-text">def hello(strname):         # 定义一个函数hello，strname是传给函数的参数
    print(strname)          # 打印参数
</code></pre>

<p>调用时，直接使用函数名称即可。例：</p>

<pre><code class="language-text">hello(&quot;I love Python!&quot;)     # 调用函数，结果输出：I love Python!
</code></pre>

<h3 id="toc_3">1.3 函数的命名规则</h3>

<p>函数名的命名有其对应的规则</p>

<ul>
<li>必须以字母或下划线开头</li>
<li>可以包含任意字母、数字或下划线的组合</li>
<li>不能使用任何特殊字符或标点符号</li>
<li>区分大小写</li>
<li>不能是保留字</li>
<li>不能以数字开头</li>
</ul>

<h3 id="toc_4">1.4 函数的组成部分</h3>

<p>Python 中有多种不同类型的函数。无论它们的功能差别有多大，其组成部分是相同的。</p>

<p><font color="red"><strong>函数有四个组成部分</strong></font></p>

<ul>
<li>函数名：def后面的名字</li>
<li>函数参数：函数名后面的变量</li>
<li>函数体：函数名的下一行代码，起始需要缩进</li>
<li>返回值：函数执行完的返回内容，用 return 语句返回。若无返回值，可不写 return，但即使不写 return 默认也会返回一个None</li>
</ul>

<p>对于一般类型的函数来说，函数名和函数体是必须有的，函数的参数和返回值是可选的</p>

<p><font color="red"><strong>文档字符串</strong></font><br/>
在函数体中，常会在开始位置放一个多行字符串，用来说明函数的功能及调用方法。这个字符串为函数的文档字符串（docstring），说白了就是帮助文档。可使用代码print(函数名.__doc__)将其输出</p>

<pre><code class="language-text">def get_info():                         # 定义一个函数 get_info
    &#39;&#39;&#39;本函数用于返回用户姓名和年龄&#39;&#39;&#39;
    name = &#39;tom&#39;
    age = 23
    return name, age                     # 返回 name 和 age 的值
    
print(get_info.__doc__)                 # 用 __doc__ 返回文档字符串
help(get_info)                          # 用内置函数 help 来查看文档帮助信息
</code></pre>

<p>在实际应用中，文档字符串主要用于描述函数的相关信息，以便用户更好的浏览和输出。建议养成在代码中添加文档字符串的好习惯</p>

<p>此处文档字符串虽然我们用的是三引号，但其实单引号和双引号都可以实现相同的功能，只是因为在实际应用中我们要描述的内容比较多，会占据多行，所以用的三引号引用多行文本，若内容很短，只有一行的情况下用单引号、双引号与用三引号无甚区别</p>

<p>但要注意的是<font color="red"><strong>文档字符串必须在函数体的第一行</strong></font></p>

<h3 id="toc_5">1.5 函数的参数：形参与实参</h3>

<p>形参是从函数的角度来说的，在定义函数时写到括号中的参数就是形参。所谓形参就是形式上的参数</p>

<p>实参是从调用的角度来说的，在调用函数时写到括号里传给函数的参数就是实参，实参可以是常量、变量、表达式、函数。<br/>
实参的个数与类型应与形参一一对应，不能多也不能少</p>

<p><strong>形参与实参的区别：</strong></p>

<ul>
<li>形参是虚拟的，不占用内存空间。形参变量只有在被调用时才分配内存单元</li>
<li>实参是一个变量，会占用内存空间，数据传送单向，由实参传给形参，不能由形参传给实参</li>
</ul>

<pre><code class="language-text">import time
times = time.strftime(&#39;%Y--%m--%d&#39;)
def f(time):
    print(&#39;Now is : %s&#39; % time)
f(times)
</code></pre>

<h3 id="toc_6">1.6 函数的返回值</h3>

<p>函数不需要返回值时可以什么都不做。若需要返回值时，就要使用 return 语句将具体的值返回。使用 return 语句可以一次返回多个值。调用时，可定义多个变量来接收，也可用一个元组来接收</p>

<pre><code class="language-text">def get_info():
    name = &#39;tom&#39;
    age = 23
    return name,age
    
myname,myage = get_info()
print(myname,myage)         # tom 23

person = get_info()
print(person)               # (&#39;tom&#39;, 23)
</code></pre>

<p>有时可能只需要用到返回值中的一个，而将其他的忽略掉。这种情况下，可使用下划线(_)来接收对应返回值</p>

<pre><code class="language-text">personname,_ = get_info()       # 在调用时，使用_来接收不需要的返回值
print(personname)
</code></pre>

<p>返回值必须要有一个变量接收，若无变量接收将无法展示给用户看<br/>
<font color="red"><strong>返回值与打印的区别：</strong></font></p>

<pre><code class="language-text">def get_info():
    name = &#39;tom&#39;
    age = 23
    return name,age
    
get_info()      # 无任何输出

a = get_info()
print(a)        # tom 23

##########################################
def get_info():
    name = &#39;tom&#39;
    age = 23
    print(name,age)

get_info()      # tom 23
</code></pre>

<p>返回值的作用：</p>

<ul>
<li>结束函数。函数在执行过程中只要遇到 return 语句，就会停止执行并返回结果，所以可以理解为 return 语句代表着函数的结束</li>
<li>返回对象</li>
</ul>

<p><font color="red"><strong>注意：</strong></font></p>

<ul>
<li>若函数里没有明确指定return，则函数会默认返回一个None</li>
<li>若return多个对象，则python将会帮我们把这些对象封装成一个元组返回给我们</li>
</ul>

<h2 id="toc_7">2 函数的参数</h2>

<p>函数的参数有几种：</p>

<ul>
<li>必备参数</li>
<li>关键字参数</li>
<li>默认参数</li>
<li>不定长参数</li>
</ul>

<h3 id="toc_8">2.1 必备参数</h3>

<p>必备参数须以正确的顺序传入函数。调用时的数量必须和声明时的一样</p>

<pre><code class="language-text">def get_info(name, age):
    print(&quot;My name is %s, I&#39;m %d years old.&quot; %(name, age))
 
get_info(&#39;tom&#39;,25)
get_info(&#39;jerry&#39;,16)
</code></pre>

<h3 id="toc_9">2.2 关键字参数</h3>

<p>关键字参数和函数调用关系紧密，函数调用使用关键字参数来确定传入的参数值。使用关键字参数允许函数调用时参数的顺序与声明时不一致，因为 Python 解释器能够用参数名匹配参数值</p>

<pre><code class="language-text">def get_info(name, age):
    print(&quot;My name is %s, I&#39;m %d years old.&quot; %(name, age))
 
# get_info(16, &#39;jerry&#39;)      # TypeError: %d format: a number is required, not str
get_info(age=16, name=&#39;jerry&#39;)  # My name is jerry, I&#39;m 16 years old.
</code></pre>

<h3 id="toc_10">2.3 默认参数</h3>

<p>调用函数时，缺省参数的值如果没有传入，则被认为是默认值。下例会打印默认的sex，如果sex没有被传入</p>

<pre><code class="language-text">def get_info(name, age, sex=&#39;male&#39;):
    print(&#39;Name: %s&#39; %name)
    print(&#39;age: %d&#39; %age)
    print(&#39;Sex: %s&#39; %sex)
 
get_info(&#39;tom&#39;,23)
get_info(&#39;jerry&#39;,30,&#39;female&#39;)
</code></pre>

<h3 id="toc_11">2.4 不定长参数</h3>

<p>你可能需要一个函数能处理比当初声明时更多的参数。这些参数叫做不定长参数，和上述2种参数不同，声明时不会命名</p>

<pre><code class="language-text"># def add(x, y):
#     return x + y
 
def add(*tuples):
    sum=0
    for v in tuples:
        sum += v
    return sum
 
print(add(1,4,6,9))         # 20
print(add(1,4,6,9,5))       # 25
</code></pre>

<!--
<br>
<br>
<br>
<br>
<br>
-->

<p>加了星号(*)的变量名会存放所有未命名的变量参数。而加(**)的变量名会存放命名的变量参数</p>

<pre><code class="language-text">def get_info(**kwargs):
    print(kwargs)
    for i in kwargs:
        print(&#39;%s: %s&#39; %(i,kwargs[i]))      # 根据参数可以打印任意相关信息了
 
get_info(name=&#39;tom&#39;,age=20,sex=&#39;female&#39;,hobby=&#39;book&#39;,nationality=&#39;Chinese&#39;)
 
##############################################################################
 
def get_info(name,*args,**kwargs):  # def print_info(name,**kwargs,*args):  报错
    print(&#39;Name: %s&#39; %name)
    print(&#39;args: &#39;,args)
    print(&#39;kwargs: &#39;, kwargs)
 
get_info(&#39;tom&#39;,20,hobby=&#39;book&#39;,nationality=&#39;Chinese&#39;)
# get_info(hobby=&#39;book&#39;,&#39;tom&#39;,20,nationality=&#39;Chinese&#39;)  # 报错
# get_info(&#39;tom&#39;,hobby=&#39;book&#39;,20,nationality=&#39;Chinese&#39;)  # 报错
</code></pre>

<p>注意，还可以这样传参</p>

<pre><code class="language-text">def f(*args):
    print(args)
 
f(*[1,2,5])             # 直接给函数传一个序列参数
 
def f(**kargs):
    print(kargs)
 
f(**{&#39;name&#39;:&#39;tom&#39;})     # 直接给函数传一个字典参数
</code></pre>

<h3 id="toc_12">2.5 参数的位置优先级</h3>

<p>参数的位置优先级：</p>

<ul>
<li>关键字参数</li>
<li>默认参数</li>
<li>args不定长参数</li>
<li>kwargs不定长参数</li>
</ul>

<p><font color="blue">练习：写一个计算器函数</font></p>

<!--
<br>
-->

<h2 id="toc_13">3 函数的作用域</h2>

<h3 id="toc_14">3.1 作用域介绍</h3>

<p>Python中的作用域分4种情况：</p>

<ul>
<li>L：local，局部作用域，即函数中定义的变量；</li>
<li>E：enclosing，嵌套的父级函数的局部作用域，即包含此函数的上级函数的局部作用域，但不是全局的；</li>
<li>G：globa，全局变量，就是模块级别定义的变量；</li>
<li>B：built-in，系统固定模块里面的变量。</li>
</ul>

<p>搜索变量的优先级顺序依次是：<br/>
作用域局部 &gt; 外层作用域 &gt; 当前模块中的全局 &gt; python内置作用域，也就是LEGB。</p>

<pre><code class="language-text">x = int(2.9)  # int built-in
 
g_count = 0  # global
def outer():
    o_count = 1  # enclosing
    def inner():
        i_count = 2  # local
        print(o_count)
    # print(i_count) # 找不到
    inner() 
outer()
 
# print(o_count) # 找不到
</code></pre>

<p><strong>当然，local和enclosing是相对的，enclosing变量相对上层来说也是local</strong></p>

<h3 id="toc_15">3.2 作用域产生</h3>

<p>在Python中，只有模块（module），类（class）以及函数（def、lambda）才会引入新的作用域，其它的代码块（如if、try、for等）是不会引入新的作用域的，如下代码</p>

<pre><code class="language-text">if 2 &gt; 1:
    x = 1
print(x)  # 1
</code></pre>

<p>这个是没有问题的，if并没有引入一个新的作用域，x仍处在当前作用域中，后面代码可以使用</p>

<pre><code class="language-text">def test():
    x = 2
print(x)    # NameError: name &#39;x2&#39; is not defined
</code></pre>

<p>def、class、lambda是可以引入新作用域的</p>

<h3 id="toc_16">3.3 变量的修改</h3>

<pre><code class="language-text">x = 6
def f2():
    print(x)
    x = 5
f2()
  
# 错误的原因在于print(x)时,解释器会在局部作用域找,
# 会找到x = 5(函数已经加载到内存),但 x 使用在声明前了,所以报错:
# local variable &#39;x&#39; referenced before assignment.
# 如何证明找到了x=5呢?简单:注释掉 x=5,x=6
# 报错为:name &#39;x&#39; is not defined
# 同理

x = 6
def f2():
    x+=1    # local variable &#39;x&#39; referenced before assignment.
f2()
</code></pre>

<h3 id="toc_17">3.4 global关键字</h3>

<p>当内部作用域想修改外部作用域的变量时，就要用到global和nonlocal关键字了，当修改的变量是在全局作用域（global作用域）上的，就要使用global先声明一下，代码如下</p>

<pre><code class="language-text">count = 10
def outer():
    global count
    print(count) 
    count = 100
    print(count)
outer()
</code></pre>

<h3 id="toc_18">3.5 nonlocal关键字</h3>

<p>global 关键字声明的变量必须在全局作用域上，不能嵌套作用域上，当要修改嵌套作用域（enclosing作用域，外层非全局作用域）中的变量怎么办呢，这时就需要nonlocal关键字了</p>

<pre><code class="language-text">def outer():
    count = 10
    def inner():
        nonlocal count
        count = 20
        print(count)
    inner()
    print(count)
outer()
</code></pre>

<h3 id="toc_19">3.6 总结</h3>

<ul>
<li>变量查找顺序：LEGB，作用域局部&gt;外层作用域&gt;当前模块中的全局&gt;python内置作用域；</li>
<li>只有模块、类、及函数才能引入新作用域；</li>
<li>对于一个变量，内部作用域先声明就会覆盖外部变量，不声明直接使用，就会使用外部作用域的变量；</li>
<li>内部作用域要修改外部作用域变量的值时，全局变量要使用global关键字，嵌套作用域变量要使用nonlocal关键字。nonlocal是python3新增的关键字，有了这个 关键字，就能完美的实现闭包了。</li>
</ul>

<h2 id="toc_20">4 高阶函数</h2>

<p><font color="red"><strong>高阶函数</strong></font>是至少满足下列一个条件的函数:</p>

<ul>
<li>接受一个或多个函数作为输入</li>
<li>输出一个函数</li>
</ul>

<p>高阶函数的特点：</p>

<ul>
<li>函数名可以进行赋值</li>
<li>函数名可以作为函数的参数</li>
<li>函数名可以作为函数的返回值</li>
</ul>

<pre><code class="language-text">def add(x,y,f):
    return f(x) + f(y)
 
res = add(3,-6,abs)
print(res)
###############
def foo():
    x=3
    def bar():
        return x
    return bar
</code></pre>

<h2 id="toc_21">5 递归函数</h2>

<p>定义：在函数内部，可以调用其他函数。如果一个函数在内部调用自身本身，这个函数就是递归函数。</p>

<p><font color="blue"><strong>实例1(阶乘)</strong></font></p>

<pre><code class="language-text"># 用for循环实现阶乘
def factorial(n):
 
    result=n
    for i in range(1,n):
        result*=i
 
    return result
 
print(factorial(4))
 
 
# 用递归函数实现阶乘
def factorial_new(n):
 
    if n==1:
        return 1
    return n*factorial_new(n-1)
 
print(factorial_new(3))
</code></pre>

<p><font color="blue"><strong>实例2(斐波那契数列)</strong></font></p>

<pre><code class="language-text">def fibo(n):
    before = 0
    after = 1
    for i in range(n - 1):
        ret = before + after
        before = after
        after = ret

    return ret


print(fibo(3))


# **************递归*********************
def fibo_new(n):  # n可以为零，数列有［0］

    if n &lt;= 1:
        return n
    return (fibo_new(n - 1) + fibo_new(n - 2))


print(fibo_new(3))

# print(fibo_new(30000))  # maximum recursion depth exceeded in comparison
</code></pre>

<p><strong>递归函数的特点</strong>：</p>

<ul>
<li>调用自身函数</li>
<li>必须有一个结束条件</li>
<li>递归能实现的循环均可实现</li>
<li>递归效率在很多情况下会很低，不推荐使用。但在用for循环实现非常复杂时可以使用递归实现，结构比较清晰</li>
</ul>

<h2 id="toc_22">6 常用的内置函数</h2>

<h3 id="toc_23">6.1 内置函数(py3.7.4)</h3>

<table>
<thead>
<tr>
<th></th>
<th></th>
<th style="text-align: left"><strong>Built-in<br> Functions</strong></th>
<th></th>
<th></th>
</tr>
</thead>

<tbody>
<tr>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#abs'" tppabs="https://docs.python.org/3/library/functions.html#abs">abs()</a></td>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#delattr'" tppabs="https://docs.python.org/3/library/functions.html#delattr">delattr()</a></td>
<td style="text-align: left"><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#hash'" tppabs="https://docs.python.org/3/library/functions.html#hash">hash()</a></td>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#memoryview'" tppabs="https://docs.python.org/3/library/functions.html#memoryview">memoryview()</a></td>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#set'" tppabs="https://docs.python.org/3/library/functions.html#set">set()</a></td>
</tr>
<tr>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#all'" tppabs="https://docs.python.org/3/library/functions.html#all">all()</a></td>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#dict'" tppabs="https://docs.python.org/3/library/functions.html#dict">dict()</a></td>
<td style="text-align: left"><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#help'" tppabs="https://docs.python.org/3/library/functions.html#help">help()</a></td>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#min'" tppabs="https://docs.python.org/3/library/functions.html#min">min()</a></td>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#setattr'" tppabs="https://docs.python.org/3/library/functions.html#setattr">setattr()</a></td>
</tr>
<tr>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#any'" tppabs="https://docs.python.org/3/library/functions.html#any">any()</a></td>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#dir'" tppabs="https://docs.python.org/3/library/functions.html#dir">dir()</a></td>
<td style="text-align: left"><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#hex'" tppabs="https://docs.python.org/3/library/functions.html#hex">hex()</a></td>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#next'" tppabs="https://docs.python.org/3/library/functions.html#next">next()</a></td>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#slice'" tppabs="https://docs.python.org/3/library/functions.html#slice">slice()</a></td>
</tr>
<tr>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#ascii'" tppabs="https://docs.python.org/3/library/functions.html#ascii">ascii()</a></td>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#divmod'" tppabs="https://docs.python.org/3/library/functions.html#divmod">divmod()</a></td>
<td style="text-align: left"><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#id'" tppabs="https://docs.python.org/3/library/functions.html#id">id()</a></td>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#object'" tppabs="https://docs.python.org/3/library/functions.html#object">object()</a></td>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#sorted'" tppabs="https://docs.python.org/3/library/functions.html#sorted">sorted()</a></td>
</tr>
<tr>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#bin'" tppabs="https://docs.python.org/3/library/functions.html#bin">bin()</a></td>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#enumerate'" tppabs="https://docs.python.org/3/library/functions.html#enumerate">enumerate()</a></td>
<td style="text-align: left"><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#input'" tppabs="https://docs.python.org/3/library/functions.html#input">input()</a></td>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#oct'" tppabs="https://docs.python.org/3/library/functions.html#oct">oct()</a></td>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#staticmethod'" tppabs="https://docs.python.org/3/library/functions.html#staticmethod">staticmethod()</a></td>
</tr>
<tr>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#bool'" tppabs="https://docs.python.org/3/library/functions.html#bool">bool()</a></td>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#eval'" tppabs="https://docs.python.org/3/library/functions.html#eval">eval()</a></td>
<td style="text-align: left"><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#int'" tppabs="https://docs.python.org/3/library/functions.html#int">int()</a></td>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#open'" tppabs="https://docs.python.org/3/library/functions.html#open">open()</a></td>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#str'" tppabs="https://docs.python.org/3/library/functions.html#str">str()</a></td>
</tr>
<tr>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#breakpoint'" tppabs="https://docs.python.org/3/library/functions.html#breakpoint">breakpoint()</a></td>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#exec'" tppabs="https://docs.python.org/3/library/functions.html#exec">exec()</a></td>
<td style="text-align: left"><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#isinstance'" tppabs="https://docs.python.org/3/library/functions.html#isinstance">isinstance()</a></td>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#ord'" tppabs="https://docs.python.org/3/library/functions.html#ord">ord()</a></td>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#sum'" tppabs="https://docs.python.org/3/library/functions.html#sum">sum()</a></td>
</tr>
<tr>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#bytearray'" tppabs="https://docs.python.org/3/library/functions.html#bytearray">bytearray()</a></td>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#filter'" tppabs="https://docs.python.org/3/library/functions.html#filter">filter()</a></td>
<td style="text-align: left"><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#issubclass'" tppabs="https://docs.python.org/3/library/functions.html#issubclass">issubclass()</a></td>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#pow'" tppabs="https://docs.python.org/3/library/functions.html#pow">pow()</a></td>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#super'" tppabs="https://docs.python.org/3/library/functions.html#super">super()</a></td>
</tr>
<tr>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#bytes'" tppabs="https://docs.python.org/3/library/functions.html#bytes">bytes()</a></td>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#float'" tppabs="https://docs.python.org/3/library/functions.html#float">float()</a></td>
<td style="text-align: left"><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#iter'" tppabs="https://docs.python.org/3/library/functions.html#iter">iter()</a></td>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#print'" tppabs="https://docs.python.org/3/library/functions.html#print">print()</a></td>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#tuple'" tppabs="https://docs.python.org/3/library/functions.html#tuple">tuple()</a></td>
</tr>
<tr>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#callable'" tppabs="https://docs.python.org/3/library/functions.html#callable">callable()</a></td>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#format'" tppabs="https://docs.python.org/3/library/functions.html#format">format()</a></td>
<td style="text-align: left"><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#len'" tppabs="https://docs.python.org/3/library/functions.html#len">len()</a></td>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#property'" tppabs="https://docs.python.org/3/library/functions.html#property">property()</a></td>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#type'" tppabs="https://docs.python.org/3/library/functions.html#type">type()</a></td>
</tr>
<tr>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#chr'" tppabs="https://docs.python.org/3/library/functions.html#chr">chr()</a></td>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#frozenset'" tppabs="https://docs.python.org/3/library/functions.html#frozenset">frozenset()</a></td>
<td style="text-align: left"><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#list'" tppabs="https://docs.python.org/3/library/functions.html#list">list()</a></td>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#range'" tppabs="https://docs.python.org/3/library/functions.html#range">range()</a></td>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#vars'" tppabs="https://docs.python.org/3/library/functions.html#vars">vars()</a></td>
</tr>
<tr>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#classmethhod'" tppabs="https://docs.python.org/3/library/functions.html#classmethhod">classmethod()</a></td>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#getattr'" tppabs="https://docs.python.org/3/library/functions.html#getattr">getattr()</a></td>
<td style="text-align: left"><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#locals'" tppabs="https://docs.python.org/3/library/functions.html#locals">locals()</a></td>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#repr'" tppabs="https://docs.python.org/3/library/functions.html#repr">repr()</a></td>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#zip'" tppabs="https://docs.python.org/3/library/functions.html#zip">zip()</a></td>
</tr>
<tr>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#compile'" tppabs="https://docs.python.org/3/library/functions.html#compile">compile()</a></td>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#globals'" tppabs="https://docs.python.org/3/library/functions.html#globals">globals()</a></td>
<td style="text-align: left"><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#map'" tppabs="https://docs.python.org/3/library/functions.html#map">map()</a></td>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#reversed'" tppabs="https://docs.python.org/3/library/functions.html#reversed">reversed()</a></td>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#__import__'" tppabs="https://docs.python.org/3/library/functions.html#__import__"><strong>import</strong>()</a></td>
</tr>
<tr>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#complex'" tppabs="https://docs.python.org/3/library/functions.html#complex">complex()</a></td>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#hasattr'" tppabs="https://docs.python.org/3/library/functions.html#hasattr">hasattr()</a></td>
<td style="text-align: left"><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#max'" tppabs="https://docs.python.org/3/library/functions.html#max">max()</a></td>
<td><a href="javascript:if(confirm('https://docs.python.org/3/library/functions.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://docs.python.org/3/library/functions.html#round'" tppabs="https://docs.python.org/3/library/functions.html#round">round()</a></td>
<td></td>
</tr>
</tbody>
</table>

<h3 id="toc_24">6.2 重要的内置函数</h3>

<p><font color="red" size=5><strong>filter(function, sequence)</strong></font></p>

<pre><code class="language-text">str = [&#39;a&#39;, &#39;b&#39;,&#39;c&#39;, &#39;d&#39;]
 
def fun1(s):
    if s != &#39;a&#39;:
        return s
 
 
ret = filter(fun1, str)
 
print(list(ret))        # ret是一个迭代器对象  
</code></pre>

<p>对sequence中的item依次执行function(item)，将执行结果为True的item做成一个filter object的迭代器返回。可以看作是过滤函数。</p>

<p><font color="red" size=5><strong>map(function, sequence)</strong></font></p>

<pre><code class="language-text">str = [&#39;a&#39;, &#39;b&#39; ,&#39;c&#39;,&#39;d&#39;]
# str = [1, 2, &#39;a&#39;, &#39;b&#39;]


def fun2(s):
    return s + &quot;sean&quot;


ret = map(fun2, str)

print(ret)  # map object的迭代器
print(list(ret))  # [&#39;asean&#39;, &#39;bsean&#39;, &#39;csean&#39;, &#39;dsean&#39;]
</code></pre>

<p>对sequence中的item依次执行function(item)，将执行结果组成一个map object迭代器返回.<br/>
map也支持多个sequence，这就要求function也支持相应数量的参数输入</p>

<pre><code class="language-text">def add(x,y):
    return x+y
print(list(map(add, range(10), range(10))))    # [0, 2, 4, 6, 8, 10, 12, 14, 16, 18]
</code></pre>

<p><font color="red" size=5><strong>reduce(function, sequence, starting_value)</strong></font></p>

<pre><code class="language-text">from functools import reduce

def add(x, y):
    return x + y


print(reduce(add, range(1, 101)))  # 5050 （注：1+2+...+99）

print(reduce(add, range(1, 101), 20))  # 5070 （注：1+2+...+99+20）
</code></pre>

<p>对sequence中的item顺序迭代调用function，如果有starting_value，还可以作为初始值调用。</p>

<h2 id="toc_25">7 lamda匿名函数</h2>

<p>普通函数与匿名函数的对比</p>

<pre><code class="language-text"># 普通函数
def add(a,b):
    return a + b
 
print(add(2,3))
 
  
#匿名函数
add = lambda a,b : a + b
print(add(2,3))
</code></pre>

<p>匿名函数的命名规则，用lamdba 关键字标识，冒号左侧表示函数接收的参数（a,b） ,冒号右侧表示函数的返回值（a+b）。</p>

<p>因为lamdba在创建时不需要命名，所以叫匿名函数。</p>

<h2 id="toc_26">8 函数式编程与函数闭包</h2>

<h3 id="toc_27">8.1 函数式编程</h3>

<p>函数式编程也称作泛函编程，是一种编程范型，说白了就是实现可以<font color="red"><strong>把函数当参数传递给另一个函数</strong></font>，它将电脑运算视为数学上的函数计算，并且避免状态以及可变数据，函数式编程语言最重要的基础是lambda演算，而且lambda演算的函数可以接受函数当作输入和输出。</p>

<p>前面讲到的重要函数<code>filter、map、reduce</code>等都属于函数式编程。</p>

<p>常见的编程范式有命令式编程和函数式编程两种。</p>

<p><font color="red"><strong>命令式编程案例：</strong></font><br/>
假如，现在你来到 baidu面试，面试官让你把number =[2, -5, 9, -7, 2, 5, 4, -1, 0, -3, 8]中的正数的平均值，你肯定可以写出：</p>

<pre><code class="language-text"># 计算数组中正整数的平均值

number = [2, -5, 9, -7, 2, 5, 4, -1, 0, -3, 8]
count = 0
sum = 0

for i in range(len(number)):
    if number[i] &gt; 0:
        count += 1
        sum += number[i]

print(sum, count)

if count &gt; 0:
    average = sum / count

print(average)
</code></pre>

<p>首先循环列表中的值，累计次数，并对大于0的数进行累加，最后求取平均值。　　</p>

<p>这就是命令式编程——你要做什么事情，你得把达到目的的步骤详细的描述出来，然后交给机器去运行。</p>

<p>这也正是命令式编程的理论模型——图灵机的特点。一条写满数据的纸带，一条根据纸带内容运动的机器，机器每动一步都需要纸带上写着如何达到。</p>

<p>那么，不用这种方式如何做到呢？</p>

<pre><code class="language-text">from functools import reduce

number = [2, -5, 9, -7, 2, 5, 4, -1, 0, -3, 8]

positive = list(filter(lambda x: x &gt; 0, number))

average = reduce(lambda x, y: x + y, positive) / len(positive)

print(average)
</code></pre>

<p>这段代码最终达到的目的同样是求取正数平均值，但是它得到结果的方式和之前有着本质的差别：<br/>
通过描述一个列表 -&gt; 正数平均值的映射，而不是描述“从列表得到正数平均值应该怎样做”来达到目的。</p>

<p>再比如，求阶乘。通过Reduce函数加lambda表达式式实现阶乘是如何简单：</p>

<pre><code class="language-text">from functools import reduce
print(reduce(lambda x,y: x*y, range(1,6)))
</code></pre>

<h3 id="toc_28">8.2 函数闭包</h3>

<p>闭包叫lexical closure（词法闭包）。是指函数及相关的环境组成的整体。</p>

<p>闭包指的就是一个内层函数和所处的环境（外层函数）所构成的内容所组成的整体。</p>

<p>闭包只是在形式和表现上像函数，但事实上闭包自身并不是函数。</p>

<p>闭包从其表现的形式上可以解释为<font color="purple"><strong>函数在嵌套环境中，如果在一个内层函数里对外层函数作用域中的变量进行了引用，那么在外层函数返回后，内层函数依然可以使用其外层函数中被引用的变量，这种变量就构成了内层函数可以使用的环境</strong></font>。</p>

<pre><code class="language-text">def func1(x):               # 外层函数
    def func2(y):           # 内层函数
        return y ** x
    return func2

f4 = func1(4)
print(type(f4))
print(f4(2))
print(f4(3))
</code></pre>

<p>棋盘走位：</p>

<pre><code class="language-text">def startPos(m,n):
    def newPos(x,y):
        return &quot;The old position is (%d,%d),and the new position is (%d,%d).&quot; % (m, n, m + x, n + y)
    return newPos

action = startPos(10,10)

print(type(action))

print(action(1,2))

action = startPos(11,12)
print(action(3,-2))
</code></pre>

<p>对于外层函数中的变量施加了修改，内层函数也就相应的受到影响，所以说外层函数给内层函数提供了一个运行环境，这就叫做闭包。</p>

<h2 id="toc_29">9 函数高阶应用(装饰器)</h2>

<p>装饰器定义：</p>

<ul>
<li>本质上是一个函数</li>
<li>功能是用来装饰其他函数。就是为其他函数添加附加功能</li>
</ul>

<p>装饰器 = 高阶函数 + 嵌套函数</p>

<p>装饰器特定的原则：</p>

<ul>
<li>不能修改被装饰的函数的源代码（线上环境）</li>
<li>不能修改被装饰的函数的调用方式</li>
<li>不能修改被装饰的函数的返回值</li>
</ul>

<p>装饰器可以抽离出大量的函数中与函数无关的功能，把函数本身只作为一个核心，在必要时如果函数的核心功能不够，就用装饰器装饰一下本次调用所需要的功能，于是运行结束了，下次当需要其它功能时再用装饰器给重新装饰一下就可以了，这就是装饰器。</p>

<p>装饰器需要接受一个函数对象作为其参数，而后对此函数做包装，以对此函数进行增强。</p>

<h3 id="toc_30">9.1 实现装饰器的知识储备</h3>

<h4 id="toc_31">9.1.1 函数即“变量”</h4>

<pre><code class="language-text">#### 第一波 ####
def foo():
    print(&#39;foo&#39;)


# foo       表示是函数
# foo()     表示执行foo函数


#### 第二波 ####
def foo():
    print(&#39;foo&#39;)


foo = lambda x: x + 1

foo(10)  # 执行下面的lambda表达式，而不再是原来的foo函数，因为函数 foo 被重新定义了
</code></pre>

<h4 id="toc_32">9.1.2 高阶函数</h4>

<p><strong>把一个函数名当做实参传给另一个函数(可以实现在不修改被装饰函数源代码的情况下为其添加功能)</strong></p>

<pre><code class="language-text">import time

def bar():
    time.sleep(3)
    print(&#39;in the bar&#39;)
    
def test1(func):
    start_time = time.time()
    func()
    stop_time = time.time()
    print(&#39;The func run time is %s&#39;% (stop_time-start_time))
    
test1(bar)
</code></pre>

<p><strong>返回值中包含函数名(可以实现不修改被装饰函数的调用方式)</strong></p>

<pre><code class="language-text">import time

def bar():
    time.sleep(3)
    print(&#39;in the bar&#39;)
    
def test2(func):
    print(func)
    return func
    
x = test2(bar)    #此处也可以改成：bar = test2(bar)

bar()
</code></pre>

<p>当用bar = test2(bar)时，此处定义的bar变量名就会覆盖之前定义bar函数时生成的变量名bar。</p>

<p>如此的话，那之前定义的bar函数进行调用时就是使用新定义的bar变量名引用其在内存中的位置，从而达到不修改bar函数调用方式的目的。</p>

<h4 id="toc_33">9.1.3 嵌套函数</h4>

<pre><code class="language-text">def bar():
    print(&#39;in the bar&#39;)


def foo(func):
    print(&#39;in the foo&#39;)

    def inner():
        return func()

    return inner


foo(bar)
# foo(bar)()
</code></pre>

<h3 id="toc_34">9.2 装饰器之不带参数的func(被装饰的函数)</h3>

<pre><code class="language-text">def decorative(func):
    def wrapper():    # 定义一个包装器
        print(&quot;Please say something: &quot;)
        func()        # 调用func，这个func是我们自己定义的
        print(&quot;No zuo no die...&quot;)
    return wrapper

@decorative    # 使用@符号调用装饰器
def show():    # 定义func，名字取什么都无所谓，它只是用来传给装饰器中的func参数
    print(&quot;I&#39;m from Mars.&quot;)

show()
</code></pre>

<p>如上例所示，show函数本身只有一个print语句，而使用装饰器以后，就变成了三个print，这里的print可以改成任何其它的语句，这就是函数的装饰器。</p>

<h3 id="toc_35">9.3 装饰器之带参数的func(被装饰的函数)</h3>

<pre><code class="language-text">def decorative(func):
    def wrapper(x):
        print(&quot;Please say something...&gt;&quot;)
        func(x)
        print(&quot;no zuo no die...&quot;)
    return wrapper

@decorative
def show(x):
    print(x)

show(&quot;hello,mars.&quot;)
</code></pre>

<h3 id="toc_36">9.4 有参数的装饰器</h3>
<details>
<p><summary>一个参数的装饰器</summary></p>

<pre><code class="language-text">def foo(func):
    def inner(arg):
        # 验证
        return func(arg)
    return inner

@foo
def bar(arg):
    print(&#39;bar&#39;)
</code></pre>
</details><details>
<p><summary>两个参数的装饰器</summary></p>

<pre><code class="language-text">def foo(func):
    def inner(arg1,arg2):
        # 验证
        return func(arg1,arg2)
    return inner

@foo
def bar(arg1,arg2):
    print(&#39;bar&#39;)
</code></pre>
</details><details>
<p><summary>三个参数的装饰器</summary></p>

<pre><code class="language-text">def foo(func):
    def inner(arg1,arg2,arg3):
        # 验证
        return func(arg1,arg2,arg3)
    return inner

@foo
def bar(arg1,arg2,arg3):
    print(&#39;bar&#39;)
</code></pre>
</details><details>
<p><summary>不固定参数个数的装饰器</summary></p>

<pre><code class="language-text">def foo(func):
    def inner(*args,**kwargs):
        # 验证
        return func(*args,**kwargs)
    return inner
 
@foo
def bar(arg1,arg2,arg3):
    print(&#39;bar&#39;)
</code></pre>
</details>
<p>一个函数可以被多个装饰器装饰：</p>

<pre><code class="language-text">def foo(func):
    def inner(*args,**kwargs):
        # 验证
        return func(*args,**kwargs)
    return inner
 
def foo1(func):
    def inner(*args,**kwargs):
        # 验证
        return func(*args,**kwargs)
    return inner
 
 
@foo
@foo1
def bar(arg1,arg2,arg3):
    print(&#39;bar&#39;)
</code></pre>

<p>想当于bar = foo(foo1(bar))</p>

<h3 id="toc_37">9.5 装饰器案例</h3>

<h4 id="toc_38">9.5.1 为函数添加执行时间的装饰器函数</h4>

<pre><code class="language-text">import time

def timmer(func):
    def wrapper(*args,**kwargs):
        start_time = time.time()
        a = func()
        stop_time = time.time()
        print(&#39;The func run time is %s&#39;% (stop_time-start_time))
        return a
    return wrapper
    
@timmer
def foo():
    time.sleep(3)
    print(&#39;in the foo&#39;)
    
print(foo())
</code></pre>

<h4 id="toc_39">9.5.2 页面验证装饰器</h4>

<p>假定有三个页面，现在要实现其中2个页面验证登录之后才能访问，另一个页面不用验证即可访问</p>

<p><strong>首先定义三个页面函数：</strong></p>

<pre><code class="language-text">def index():
    print(&#39;Welcome to index page&#39;)
    return &#39;from index page&#39;
    
def home():
    print(&#39;Welcome to home page&#39;)
    return &#39;from home page&#39;
    
def bbs():
    print(&#39;Welcome to bbs page&#39;)
    return &#39;from bbs page&#39;
</code></pre>

<p><strong>然后定义装饰器函数：</strong></p>

<pre><code class="language-text">import getpass

user = &#39;sean&#39;
passwd = &#39;abc123&#39;
def auth(auth_type=&#39;local&#39;):
    def out_wrapper(func):
        def wrapper(*args,**kwargs):
            if auth_type == &#39;local&#39;:
                username = input(&#39;Username: &#39;).strip()
                password = getpass.getpass(&quot;Password: &quot;).strip()
                if username == user and password == passwd:
                    print(&#39;authentication passed&#39;)
                    func(*args,**kwargs)
            elif auth_type == &#39;ldap&#39;:
                print(&#39;This is ldap authentication&#39;)
                func(*args,**kwargs)
        return wrapper
    return out_wrapper
</code></pre>

<p><strong>接下来将装饰器分别应用于home函数与bbs函数：</strong></p>

<pre><code class="language-text">def index():
    print(&#39;Welcome to index page&#39;)
    return &#39;from index page&#39;

@auth(&#39;local&#39;)
def home():
    print(&#39;Welcome to home page&#39;)
    return &#39;from home page&#39;

@auth(&#39;ldap&#39;)
def bbs():
    print(&#39;Welcome to bbs page&#39;)
    return &#39;from bbs page&#39;

# 调用函数
index()
home()
bbs()
</code></pre>

<h3 id="toc_40">9.6 装饰器原理</h3>

<p>写代码要遵循开放封闭原则，虽然在这个原则是用的面向对象开发，但是也适用于函数式编程，简单来说，它规定已经实现的功能代码不允许被修改，但可以被扩展，即：</p>

<ul>
<li>封闭：已实现的功能代码块</li>
<li>开放：对扩展开发</li>
</ul>

<p>对于装饰器的原理，这里以页面验证装饰器为例来讲解。</p>

<pre><code class="language-text">import getpass

user = &#39;sean&#39;
passwd = &#39;abc123&#39;
def auth(auth_type=&#39;local&#39;):
    &quot;&quot;&quot;
    :param auth_type: 接收装饰器的参数
    :return:
    &quot;&quot;&quot;
    def out_wrapper(func):
        &quot;&quot;&quot;
        :param func: 接收被装饰的函数
        :return:
        &quot;&quot;&quot;
        # 接收被装饰函数的参数
        def wrapper(*args,**kwargs):
            &quot;&quot;&quot;
            :param args: 收集被装饰函数的参数
            :param kwargs: 收集被装饰函数的关键字参数
            :return:
            &quot;&quot;&quot;
            if auth_type == &#39;local&#39;:
                username = input(&#39;Username: &#39;).strip()
                password = getpass.getpass(&quot;Password: &quot;).strip()
                if username == user and password == passwd:
                    print(&#39;authentication passed&#39;)
                    func(*args,**kwargs)
            elif auth_type == &#39;ldap&#39;:
                print(&#39;This is ldap authentication&#39;)
                func(*args,**kwargs)
        return wrapper
    return out_wrapper
    
@auth(&#39;local&#39;)
def home():
    print(&#39;Welcome to home page&#39;)
    return &#39;from home page&#39;
</code></pre>

<p>当写完这段代码后（函数未被执行、未被执行、未被执行），python解释器就会从上到下解释代码，步骤如下：</p>

<ol>
<li>def auth(auth_type=&#39;local&#39;):  ==&gt;将auth函数加载到内存</li>
<li>def out_wrapper(func):  ==&gt;将out_wrapper函数加载到内存</li>
<li>@auth(&#39;local&#39;)</li>
</ol>

<p>没错，<font color="red"><strong>从表面上看</strong></font>解释器仅仅会解释这三句代码，因为函数在<font color="red"><strong>没有被调用之前</strong></font>其内部代码不会被执行。</p>

<p>从表面上看解释器着实会执行这三句，但是 @auth(&#39;local&#39;) 这一句代码里却有大文章，<strong>@函数名</strong> 是python的一种语法糖。</p>

<p>如上例@auth(&#39;local&#39;)内部会执行一下操作：</p>

<ul>
<li><font color="red"><strong>执行auth函数</strong></font>，并将 @auth(&#39;local&#39;) 下面的 <font color="red"><strong>函数</strong></font> 作为auth函数的参数，即：@auth(&#39;local&#39;) 等价于 @auth(&#39;local&#39;)(home)</li>
</ul>

<pre><code class="language-text"># 所以，内部就会去执行：
    def out_wrapper(func):      # 此时的func为home，将home当作参数传给out_wrapper函数
        def wrapper(*args,**kwargs):
            if auth_type == &#39;local&#39;:
                username = input(&#39;Username: &#39;).strip()
                password = getpass.getpass(&quot;Password: &quot;).strip()
                if username == user and password == passwd:
                    print(&#39;authentication passed&#39;)
                    func(*args,**kwargs)      # 调用func函数，此时应该调用home()
            elif auth_type == &#39;ldap&#39;:
                print(&#39;This is ldap authentication&#39;)
                func(*args,**kwargs)      # 调用func函数，此时应该调用home()
        return wrapper      # 返回的wrapper，wrapper代表的是函数，非执行函数
    return out_wrapper      # 返回的out_wrapper，out_wrapper代表的是函数，非执行函数
</code></pre>

<ul>
<li>将执行完的 auth(&#39;local&#39;) 函数返回值<font color="red"><strong>赋值</strong></font>给@auth(&#39;local&#39;)下面的<font color="red"><strong>函数的函数名</strong></font></li>
</ul>

<pre><code class="language-text">auth(&#39;local&#39;)函数的返回值是：
    def out_wrapper(func):      # 此时的func为home，将home当作参数传给out_wrapper函数
        def wrapper(*args,**kwargs):
            if auth_type == &#39;local&#39;:
                username = input(&#39;Username: &#39;).strip()
                password = getpass.getpass(&quot;Password: &quot;).strip()
                if username == user and password == passwd:
                    print(&#39;authentication passed&#39;)
                    func(*args,**kwargs)      # 调用func函数，此时应该调用home()
            elif auth_type == &#39;ldap&#39;:
                print(&#39;This is ldap authentication&#39;)
                func(*args,**kwargs)      # 调用func函数，此时应该调用home()
        return wrapper      # 返回的wrapper，wrapper代表的是函数，非执行函数
    return out_wrapper

然后，将此返回值再重新赋值给 home，即：
新home = def wrapper(*args,**kwargs):
            if auth_type == &#39;local&#39;:
                username = input(&#39;Username: &#39;).strip()
                password = getpass.getpass(&quot;Password: &quot;).strip()
                if username == user and password == passwd:
                    print(&#39;authentication passed&#39;)
                    func(*args,**kwargs)      # 调用func函数，此时应该调用home()
            elif auth_type == &#39;ldap&#39;:
                print(&#39;This is ldap authentication&#39;)
                func(*args,**kwargs)      # 调用func函数，此时应该调用home()
        return wrapper      # 返回的wrapper，wrapper代表的是函数，非执行函数
 
所以，以后想要执行 home 函数时，就会执行 新home 函数，在 新home 函数内部先执行验证，\
再执行原来的home函数，然后将 原来home 函数的返回值 返回给了业务调用者。\
如此一来， 即执行了验证的功能，又执行了原来home函数的内容，\
并将原home函数返回值 返回给业务调用者。
</code></pre>


</div>

<br /><br />
<hr />

<div class="row clearfix">
  <div class="large-6 columns">
	<div class="text-left" style="padding:15px 0px;">
		
	        <a href="15347293082090.html" tppabs="http://www.itwangqing.net.cn/15347293082090.html"  title="Previous Post: nginx">&laquo; nginx</a>
	    
	</div>
  </div>
  <div class="large-6 columns">
	<div class="text-right" style="padding:15px 0px;">
		
	        <a href="15756156871621.html" tppabs="http://www.itwangqing.net.cn/15756156871621.html" 
	        title="Next Post: docker容器技术基础入门">docker容器技术基础入门 &raquo;</a>
	    
	</div>
  </div>
</div>

<div class="row">
<div style="padding:0px 0.93em;" class="share-comments">

</div>
</div>
<script type="text/javascript">
	$(function(){
		var currentURL = '15621339486509.html'/*tpa=http://www.itwangqing.net.cn/15621339486509.html*/;
		$('#side-nav a').each(function(){
			if($(this).attr('href') == currentURL){
				$(this).parent().addClass('active');
			}
		});
	});
</script>  
</div></div>


<div class="page-bottom">
  <div class="row">
  <hr />
  <div class="small-9 columns">
  <p class="copyright">Copyright &copy; 2015
Powered by <a target="_blank" href="javascript:if(confirm('http://www.mweb.im/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.mweb.im/'" tppabs="http://www.mweb.im/">MWeb</a>,&nbsp; 
Theme used <a target="_blank" href="javascript:if(confirm('http://github.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://github.com/'" tppabs="http://github.com/">GitHub CSS</a>.</p>
  </div>
  <div class="small-3 columns">
  <p class="copyright text-right"><a href="#header">TOP</a></p>
  </div>
   
  </div>
</div>

        </section>
      </div>
    </div>
    
    
    <script src="foundation.min.js" tppabs="http://www.itwangqing.net.cn/asset/js/foundation.min.js"></script>
    <script src="foundation.offcanvas.js" tppabs="http://www.itwangqing.net.cn/asset/js/foundation/foundation.offcanvas.js"></script>
    <script>
      $(document).foundation();

     
    </script>
    


  </body>
</html>
